{"version":3,"sources":["App.js","serviceWorker.js","index.js"],"names":["GROUPES","GROUPES2","profs","modules","salles","result","d","Date","UTC","getFullYear","getMonth","getDate","setUTCDate","getUTCDate","getUTCDay","yearStart","getUTCFullYear","weekNo","Math","ceil","getWeekNumber","defaultYear","defaultWeek","WeekSelector","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","week","year","newWeek","_this2","isNaN","setState","newYear","changeTimeout","clearTimeout","setTimeout","onWeekChanged","_this3","react_default","a","createElement","onClick","e","class","TextField_default","className","type","min","max","value","onChange","Number","parseInt","target","style","fontWeight","Component","centerStyle","textAlign","Schedule","_this4","dayIndexes","_this5","debug","headerPromo","filter","groups","length","id","map","index","key","days","display","gridTemplateColumns","overflow","edt","heure","jour","index2","App_ScheduleInfoCase","data","isMobile","App_ScheduleCase","isFirstTop","isFirstLeft","ScheduleInfoCase","MessageBox","show","line","url","href","backgroundColor","fillColor","color","txtColor","txt","ScheduleCase","_this6","classes","push","groupe","module","profNom","salle","_this7","i","lastVisibleIndex","j","current","visible","includes","c","indexOf","columnStart","columnEnd","row","join","promos","column","gridRow","gridColumnStart","gridColumnEnd","bgColor","opacity","getOpacity","_this8","hide","bind","assertThisInitialized","instance","lines","FilterChooser","_this9","gr","onFilterChanged","promo","group","isFirstFilter","App_WeekSelector","Select_default","nom","MenuItem_default","App","_this10","groupFilter","lastGroupFilter","localStorage","getItem","lastBackup","JSON","parse","undefined","edtData","onDataLoaded","loadData","onWindowResized","window","addEventListener","innerWidth","_this11","fetch","then","text","catch","error","console","log","isBackup","setItem","stringify","split","shift","tbl","infosTbl","k","l","replace","grs","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","err","return","_i3","day","month","getUTCMonth","prop","newValue","newFilter","splice","sort","App_FilterChooser","App_Schedule","App_MessageBox","Boolean","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ec38424f.chunk.js","sourcesContent":["/**\n * <!> Attention <!>\n * \n * Le code est pour l'instant mal organisé, il\n * sera refactorisé et commenté très prochainement.\n * \n * \n * Ci-dessous le code source d'une webapp servant à\n * l'affichage de l'emploi du temps du département\n * informatique de l'IUT de Blagnac.\n * \n * \n * Les emplois du temps sont générés automatiquement\n * par le logiciel libre FlopEDT :\n * \n * http://www.flopedt.org/\n * \n */\n\n\nimport React, { Component } from 'react';\nimport './App.css';\n\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport TextField from '@material-ui/core/TextField';\n\nconst ID_COURS = 0,\nNUM_COURS = 1,\nPROF_NOM = 2,\nGPE_NOM = 3,\nGPE_PROMO = 4,\nMODULE = 5,\nJOUR = 6,\nHEURE = 7,\nROOM = 8,\nROOM_TYPE = 9,\nCOLOR_BG = 10,\nCOLOR_TXT = 11;\n\nconst GROUPES = [[\"1A\", \"1B\", \"2A\", \"2B\", \"3A\", \"3B\", \"4A\", \"4B\"],\n                [\"1A\", \"1B\", \"2A\", \"2B\", \"3A\", \"3B\", \"4A\", \"LP\"]];\nconst GROUPES2 = [\"1\",     , \"2\",      , \"3\",      ,  \"4\"];\n\nvar profs = [\"TOUS\"];\nvar modules = [\"TOUS\"];\nvar salles = [\"TOUTES\"];\n\nfunction getWeekNumber(d) {\n  // Copy date so don't modify original\n  d = new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate()));\n  // Set to nearest Thursday: current date + 4 - current day number\n  // Make Sunday's day number 7\n  d.setUTCDate(d.getUTCDate() + 4 - (d.getUTCDay()||7));\n  // Get first day of year\n  var yearStart = new Date(Date.UTC(d.getUTCFullYear(),0,1));\n  // Calculate full weeks to nearest Thursday\n  var weekNo = Math.ceil(( ( (d - yearStart) / 86400000) + 1)/7);\n  // Return array of year and week number\n  return [d.getUTCFullYear(), weekNo];\n}\n\nfunction getDateOfWeek(w, y) {\n  var d = (1 + (w - 1) * 7); // 1st of January + 7 days for each week\n\n  return new Date(y, 0, d);\n}\n\nvar result = getWeekNumber(new Date());\n\nconst defaultYear = result[0];\nconst defaultWeek = result[1];\n\n/** Week Selector Widget\n * \n * Widget utilisé pour selectionner une semaine précise\n * \n */\n\nclass WeekSelector extends Component {\n\n  /**\n   * props :\n   * {value: semaine actuellement sélectionnée}\n   */\n  constructor(props) {\n    super(props);\n    this.state = {week: this.props.week, year: this.props.year};\n  }\n\n  /**\n   * Callback appelé lorsqu'une nouvelle semaine est sélectionnée\n   * @param {*} newWeek \n   */\n  onWeekChanged(newWeek) {\n    if(!isNaN(newWeek)) {\n      let newYear = this.state.year;\n      if(newWeek < 2) {\n        newWeek += 50;\n        newYear--;\n      }\n      if(newWeek > 51) {\n        newWeek -= 50;\n        newYear++;\n      }\n      this.setState({week: newWeek, year: newYear});\n      if(this.changeTimeout) {\n        clearTimeout(this.changeTimeout);\n      }\n      this.changeTimeout = setTimeout(() => {\n        this.props.onWeekChanged({week: this.state.week, year: this.state.year});\n      }, 500);\n    }else{\n      this.setState({week: newWeek});\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <button onClick={(e) => this.onWeekChanged(this.state.week-1)}><i class=\"material-icons\">arrow_left</i></button>\n        <TextField className=\"input\" type=\"number\" min=\"-52\" max=\"52\" value={this.state.week} onChange={(e) => this.onWeekChanged(Number.parseInt(e.target.value))}/>\n        <button class=\"button\" onClick={(e) => this.onWeekChanged(this.state.week+1)}><i class=\"material-icons\">arrow_right</i></button>\n        <p>Année : <span style={{fontWeight: \"bold\"}}>{this.state.year}</span></p>\n      </div>\n    )\n  }\n}\n\nconst centerStyle = {textAlign: \"center\"};\n\n/**\n * NOK -> A simplifier\n */\nclass Schedule extends Component {\n  constructor(props) {\n    super(props);\n    this.dayIndexes = [\"Lun.\", \"Mar.\", \"Mer.\", \"Jeu.\", \"Ven.\"];\n  }\n\n  render() {\n    var debug = 1;\n    const headerPromo = this.props.filter.groups[0].length > 0 ? 0 : 1;\n    return (\n      <div id=\"schedule\">\n        \n        {// Affichage des dates : \n        this.dayIndexes.map((id, index) => \n          <div>\n            <h2 key={id} style={centerStyle}>{id+\" \"+this.props.days[index]}</h2>\n          </div>\n        )}\n\n        {// Affichage des labels de groupes 1ere année :\n        this.dayIndexes.map(id => \n          <div style={{display: \"grid\", gridTemplateColumns: \"repeat(\"+this.props.filter.groups[headerPromo].length+\", 1fr)\"}}>\n            {this.props.filter.groups[headerPromo].map(index =>\n                  <span style={{textAlign: \"center\", overflow:\"hidden\"}} key={\"1A\"+id+\"-gr\"+index}>{GROUPES[headerPromo][index]}</span>\n            )}\n          </div>\n        )}\n        \n        {// Affichage des cases :\n        this.props.edt.map((heure, index) =>\n                            heure.map((jour, index2) =>\n                                      index == 3 ? (  // 12h30 -> 14h15 (zone d'annonce)\n                                            <ScheduleInfoCase data={jour} isMobile={this.props.isMobile}/>\n                                      ) : (\n                                            <ScheduleCase isFirstTop={index == 0 || index == 4}\n                                                        isFirstLeft={index2 == 0} debug={debug-- == 1} filter={this.props.filter} data={jour}/>\n                                      )\n                                    )\n                          )\n        }\n\n        {// Affichage des labels de groupes 2nde année :\n          this.props.filter.groups[0].length > 0 &&\n          this.dayIndexes.map(id => \n          <div style={{display: \"grid\", gridTemplateColumns: \"repeat(\"+this.props.filter.groups[1].length+\", 1fr)\"}}>\n            {this.props.filter.groups[1].map(index =>\n                  <span style={{textAlign: \"center\", overflow:\"hidden\"}} key={\"2A\"+id+\"-gr\"+index}>{GROUPES[1][index]}</span>\n            )}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\n/**\n * NOK : Rajouter les keys\n */\nclass ScheduleInfoCase extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const heure = this.props.data;\n    return (\n      <div /*key={index+\";\"+index2}*/ className=\"infoCase\">\n      {heure.length > 0 && this.props.isMobile ? <div /*key={index+\";\"+index2+\"-i\"}*/ className=\"infoButton\" onClick={() => MessageBox.show(heure)}><span>Infos</span></div> :\n      heure.map(line => line.url ? (\n              <a href={line.url} style={{backgroundColor: line.fillColor, color: line.txtColor}}>{line.txt}</a>\n            ) : (\n              <span style={{backgroundColor: line.fillColor, color: line.txtColor}}>{line.txt}</span>)\n            )}\n      </div>\n    );\n  }\n}\n\nclass ScheduleCase extends Component {\n  constructor(props) {\n    super(props);\n    \n    this.classes = [\"case\"];\n    if(this.props.isFirstLeft)\n      this.classes.push(\"firstLeft\");\n    if(this.props.isFirstTop)\n      this.classes.push(\"firstTop\");\n  }\n\n  getOpacity(groupe) {\n    const filter = this.props.filter;\n    return  (filter.module == \"TOUS\" || filter.module == groupe.module) &&\n            (filter.profNom == \"TOUS\" || filter.profNom == groupe.profNom) &&\n            (filter.salle == \"TOUTES\" || filter.salle == groupe.salle) ? 1 : 0.3;\n  }\n\n  render() {\n    const {filter} = this.props;\n\n    const data = this.props.data;\n    for(let i = 0; i < data.length; i++) {\n      var lastVisibleIndex = 0;      // Peut-être source de bugs ?\n      for(let j = 0; j < data[i].length; j++) {\n        let current = data[i][j];\n        \n        current.visible = this.props.filter.groups[i].includes(j);\n        let c = this.props.filter.groups[i].indexOf(j)+1;\n        current.columnStart = c;\n        current.columnEnd = c;\n        current.row = i+1;\n        if(current.row == 2 && this.props.filter.groups[0].length == 0)\n          current.row = 1;\n        if(j == 0) {\n          if(current.visible)\n          lastVisibleIndex = j;\n          continue;\n        }\n\n        if(current.profNom && current.visible && current.profNom == data[i][lastVisibleIndex].profNom) {\n          current.columnStart = data[i][lastVisibleIndex].visible ? data[i][lastVisibleIndex].columnStart : data[i][j].columnStart;\n          data[i][lastVisibleIndex].visible = false;\n          current.columnEnd++;    // Bricolage\n        }\n\n        if(current.visible)\n          lastVisibleIndex = j;\n\n      }\n    }\n\n    return (\n      <div className={this.classes.join(\" \")}>\n        {this.props.data.map((promos, row) =>\n        filter.groups[row].length != 0 ? (\n          <div style={{display: \"grid\", gridTemplateColumns: \"repeat(\"+filter.groups[row].length+\", 1fr)\"}}>\n            {promos.map((groupe, column) => filter.groups[row].includes(column) && groupe.visible ? (\n                <div className=\"subCase\" style={{gridRow: groupe.row,\n                                                gridColumnStart: groupe.columnStart, gridColumnEnd: groupe.columnEnd,\n                                                backgroundColor: groupe.bgColor, color: groupe.txtColor,\n                                                opacity: this.getOpacity(groupe)}}>\n                    <div>\n                      <span>{groupe.module}</span>\n                      <span>{groupe.profNom}</span>\n                      <span>{groupe.salle}</span>\n                    </div>\n                </div>) : null)\n            }\n          </div>\n        ) : null)}\n      </div>\n    );\n  }\n}\n\nclass MessageBox extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {visible: false};\n    this.hide = this.hide.bind(this);\n    MessageBox.instance = this;\n  }\n\n  static show(lines) {\n    MessageBox.instance.show(lines);\n  }\n\n  show(lines) {\n    this.setState({visible: true, lines: lines});\n  }\n\n  hide() {\n    this.setState({visible: false});\n  }\n\n  render() {\n    const lines = this.state.lines;\n    return this.state.visible ? (\n      <div id=\"msgBoxBg\" onClick={this.hide}>\n        <div id=\"msgBox\">\n        {lines.map((line,index) => line.url ? (\n          <a key={\"msgBoxLine-\"+index} href={line.url} target=\"_blank\">{line.txt}</a>\n        ) : (\n          <span key={\"msgBoxLine-\"+index}>{line.txt}</span>)\n        )}\n        </div>\n      </div>\n    ) : null;\n  }\n}\n\n/**\n * Le composant FilterChooser regroupe tous les sous-composants servant à filtrer les données de l'emploi du temps en terme d'affichage\n * FilterChooser component contains all the sub-components that are used for filtering the schedule data in terms of data display\n */\nclass FilterChooser extends Component {\n  render() {\n    return (\n      <div id=\"filterBox\">\n        <h3>Filtres : </h3>\n        <div id=\"groups\">\n          <h4>Groupe : </h4>\n          <div>   {/* TODO : Transformer ces divs en un nouveau composant ? */}\n            <h5>1ere année :</h5>\n              <div className=\"groupChooser\">\n              {GROUPES[0].map((gr, index) => <div onClick={() => this.props.onFilterChanged(\"group\", {promo: 0, group: index})} className={this.props.filter.groups[0].includes(index) && !this.props.isFirstFilter ? \"selected\" : \"\"}>{gr}</div>)}\n              </div>\n            </div>\n          <div>\n            <h5>2nde année :</h5>\n            <div className=\"groupChooser\">\n              {GROUPES[1].map((gr, index) => <div onClick={() => this.props.onFilterChanged(\"group\", {promo: 1, group: index})} className={this.props.filter.groups[1].includes(index) && !this.props.isFirstFilter ? \"selected\" : \"\"}>{gr}</div>)}\n            </div>\n          </div>\n        </div>\n        <div>\n          <h4>Semaine : </h4>\n          <WeekSelector week={this.props.filter.week} year={this.props.filter.year} onWeekChanged={(value) => this.props.onFilterChanged(\"week\", value)}/>\n        </div>\n        <div>\n          <h4>Professeur : </h4>\n          <Select value={this.props.filter.profNom} onChange={(e) => this.props.onFilterChanged(\"profNom\", e.target.value)}>\n            {profs.map(nom => <MenuItem value={nom}>{nom}</MenuItem>)}\n          </Select>\n        </div>\n        <div>\n          <h4>Salle : </h4>\n          <Select value={this.props.filter.salle} onChange={(e) => this.props.onFilterChanged(\"salle\", e.target.value)}>\n            {salles.map(nom => <MenuItem value={nom}>{nom}</MenuItem>)}\n          </Select>\n        </div>\n        <div>\n          <h4>Module : </h4>\n          <Select value={this.props.filter.module} onChange={(e) => this.props.onFilterChanged(\"module\", e.target.value)}>\n            {modules.map(nom => <MenuItem value={nom}>{nom}</MenuItem>)}\n          </Select>\n        </div>\n      </div>\n    );\n  }\n}\n\n/**\n * Main Application :\n * - Load the Schedule data from IUT's server.\n * \n */\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    \n    this.onFilterChanged = this.onFilterChanged.bind(this);\n\n    let groupFilter;\n    \n    var lastGroupFilter = localStorage.getItem(\"lastGroupFilter\");\n    var lastBackup = localStorage.getItem(\"backup\");\n\n    if(lastGroupFilter) \n      groupFilter = JSON.parse(lastGroupFilter);\n    else\n      groupFilter = [[0, 1, 2, 3, 4, 5, 6, 7],\n                    [0, 1, 2, 3, 4, 5, 6, 7]];\n\n    this.state = {isFirstFilter: lastGroupFilter == undefined,\n                  edtData: [],\n                  filter: {       // Sortir ces attributs du filter ?\n                    week: defaultWeek,\n                    year: defaultYear,\n                    groups: groupFilter,\n                    module: \"TOUS\",   // Current selected module\n                    profNom: \"TOUS\",  // Current selected prof\n                    salle: \"TOUTES\"   // Current selected room\n                  },\n                  isMobile: false     // TRUE if screen width < 640\n                 };\n\n    if(lastBackup) {\n      setTimeout(() => this.onDataLoaded(JSON.parse(lastBackup), defaultWeek, defaultYear, true), 0);\n    }\n\n    this.loadData(defaultWeek, defaultYear);\n\n    this.onWindowResized = this.onWindowResized.bind(this);\n\n    window.addEventListener(\"resize\", this.onWindowResized);\n\n    /*\n    Structuration : \n    Tableau a 5 colonnes (jours), 6 lignes (heures)  /!\\ Colonnes avant lignes dans la structure pour que\n    ce soit plus simple de récupérer qu'une colonne\n    (cf. Mobiles)\n    Chaque case est composée d'un tableau a 2 lignes (promo), 8 colonnes (groupes)\n    Chaque case est composée de module, prof_nom, salle, bg_color, txt_color\n    */\n  }\n  \n  /**\n   * This function is used to track the screen width changes -> if the width goes under 640px, the mobile display is set\n   * @param {*} e Window Resized Event\n   */\n  onWindowResized(e) {\n    let isMobile = window.innerWidth < 640;\n    if(this.state && this.state.isMobile != isMobile)\n      this.setState({isMobile: isMobile});\n  }\n\n  loadData(week, year) {\n    fetch(\"https://edt-relai.yo.fr/fetch.php?infos=1&year=\"+year+\"&week=\"+week).then(data => data.text().then(txt => this.onDataLoaded(txt, week, year))).catch(error => console.log(error));\n  }\n\n  onDataLoaded(data, week, year, isBackup) {\n    if(!isBackup)\n      localStorage.setItem(\"backup\", JSON.stringify(data));\n    profs = [\"TOUS\"];   // A sortir du contexte global ?\n    modules = [\"TOUS\"];\n    salles = [\"TOUTES\"];\n\n    var edtData = [];\n    var lines = data.split(\"\\n\");\n    lines.shift();\n    var tbl = [];\n    var infosTbl = [];\n    let i = 0;\n    let line = lines[i++];\n    while(line) {\n      tbl.push(line.split(\",\"));\n      line = lines[i++];\n    }\n    \n    line = lines[++i];\n    while(line) {\n      infosTbl.push(line.split(\",\"));\n      line = lines[i++];\n    }\n\n    for(let i = 0; i < 7; i++) {    // Schedule lines creation (hours)\n      edtData[i] = [];\n      for(let j = 0; j < 5; j++) {    // Schedule columns creation (days)\n          edtData[i][j] = [];\n          if(i == 3)\n            continue;\n        for(let k = 0; k < 2; k++) {    // Schedule sub cases lines creation (promos)\n          edtData[i][j][k] = [];\n          for(let l = 0; l < 8; l++) {    // Schedule sub cases columns creation (groupes)\n            edtData[i][j][k][l] = [];\n          }\n        }\n      }\n    }\n    \n    for(let i = 0; i < tbl.length; i++) {\n      let jour = tbl[i][JOUR];\n      let heure = tbl[i][HEURE];\n      if(heure >= 3)  // bricolage\n        heure++;\n      let promo = Number.parseInt(tbl[i][GPE_PROMO].replace(\"INFO\", \"\"))-1;\n      let groups = [];\n\n      if(tbl[i][GPE_NOM] == \"LP\"){\n        promo = 1;\n        groups[0] = 7;\n      }else if(tbl[i][GPE_NOM] == \"CE\") {\n        groups = [0, 1, 2, 3, 4, 5, 6];\n        if(promo == 0)\n          groups.push(7);\n      } else if(tbl[i][GPE_NOM].length == 2) {\n        groups[0] = GROUPES[0].indexOf(tbl[i][GPE_NOM]);\n      } else {\n        let grs = tbl[i][GPE_NOM].split(\"\");\n        for(let gr of grs) {\n          let index = GROUPES2.indexOf(gr);\n          groups.push(index);\n          if(promo == 0 || (promo == 1 && gr != \"4\"))\n            groups.push(index+1);           // 4A uniquement, pas 4B car 4B <=> LP\n        }\n      }\n\n      for(let group of groups) {\n        edtData[heure][jour][promo][group] = {\n          module: tbl[i][MODULE],\n          profNom: tbl[i][PROF_NOM],\n          salle: tbl[i][ROOM],\n          bgColor: tbl[i][COLOR_BG],\n          txtColor: tbl[i][COLOR_TXT]\n        };\n\n        if(!profs.includes(tbl[i][PROF_NOM]))\n          profs.push(tbl[i][PROF_NOM]);\n\n        if(!salles.includes(tbl[i][ROOM]))\n          salles.push(tbl[i][ROOM]);\n\n        if(!modules.includes(tbl[i][MODULE]))\n          modules.push(tbl[i][MODULE]);\n        }\n      }\n\n      for(let i = 0; i < infosTbl.length; i++) {\n        let column = Number.parseInt(infosTbl[i][1]);\n        let line = Number.parseInt(infosTbl[i][3]) || 0;\n\n        if(!edtData[3][column][line])\n          edtData[3][column][line] = {};\n        edtData[3][column][line].txt = infosTbl[i][4];\n        edtData[3][column][line].fillColor = infosTbl[i][6];\n        edtData[3][column][line].txtColor = infosTbl[i][7];\n        edtData[3][column][line].url = infosTbl[i][5];\n      }\n\n      let days = [];\n      let d = getDateOfWeek(week, year);\n      for(let i = 0; i < 5; i++) {\n        let day = d.getUTCDate();\n        let month = d.getUTCMonth()+1;\n        if(day < 10)\n          day = \"0\"+day;\n        if(month < 10)\n          month = \"0\"+month;\n        days[i] = day+\"/\"+month;\n        d.setUTCDate(d.getUTCDate()+1);\n      }\n\n      this.setState({edtData: edtData, days: days});\n      this.onWindowResized();\n    }\n\n    onFilterChanged(prop, newValue) {\n      var newFilter = this.state.filter;\n      var isFirstFilter = this.state.isFirstFilter;\n      if(prop == \"group\") {\n        var promo = newValue.promo, group = newValue.group;\n        if(this.state.isFirstFilter) {\n          newFilter.groups[promo] = [group];\n          newFilter.groups[promo==1?0:1] = [];\n        }else {\n          let index = newFilter.groups[promo].indexOf(group);\n          if(index >= 0)\n            newFilter.groups[promo].splice(index, 1);\n          else\n            newFilter.groups[promo].push(group);\n          newFilter.groups[promo].sort();\n        }\n        localStorage.setItem(\"lastGroupFilter\", JSON.stringify(newFilter.groups));\n        isFirstFilter = false;\n      } else if(prop == \"week\") {\n        this.loadData(newValue.week, newValue.year);\n      } else {\n        newFilter[prop] = newValue;\n      }\n      // this.state.filter === newFilter -> TRUE\n      this.setState({filter: newFilter, isFirstFilter: isFirstFilter}); // Débile : this.setState({filter: this.state.filter})...\n    }\n\n    render() {\n      return (\n        <div className=\"App\">\n          <h1 id=\"title\">Emploi du temps - IUT de Blagnac</h1>\n          <div id=\"info\">\n            <p>Alpha 2.2</p>\n            <a href=\"https://github.com/Feavy/EDT-React\" target=\"_blank\">Code Source</a>\n          </div>\n          <FilterChooser filter={this.state.filter} onFilterChanged={this.onFilterChanged}/>\n          {this.state.days &&\n          <Schedule filter={this.state.filter} days={this.state.days} isMobile={this.state.isMobile} edt={this.state.edtData} />\n          }\n          <MessageBox/>\n        </div>\n        );\n      }\n    }\n    \n    export default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}